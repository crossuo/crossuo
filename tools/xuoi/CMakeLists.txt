set(PROJECT_NAME xuoi)
project(${PROJECT_NAME})

if(NOT XUO_WINDOWS)
    set(CURL_PROJECT curl-7.50.1)
    set(CURL_ARGS ${EXTERNALS_CMAKE_ARGS} -DBUILD_TESTING=Off -DBUILD_CURL_EXE=Off -DBUILD_SHARED_LIBS=Off -DENABLE_ARES=Off -DCURL_STATICLIB=On)

    set(CURL_LIBRARIES curl)
endif()

set(CURL_INCLUDE "${CMAKE_CURRENT_BINARY_DIR}/curl/include" CACHE INTERNAL "")

set(XUOI_PROJECT "${PROJECT_NAME}" CACHE INTERNAL "")
set(XUOI_DIR "${PROJECT_SOURCE_DIR}" CACHE INTERNAL "")
set(XUOI_INCLUDE "${XUOI_DIR}" CACHE INTERNAL "")
set(XUOI_LIBS "${PROJECT_NAME} ${THREAD} ${LOADER}" CACHE INTERNAL "")

set(XUOI_SRCS
  main.cpp
)

add_executable(${PROJECT_NAME} ${XUOI_SRCS})

target_link_libraries(${PROJECT_NAME} PUBLIC ${CURL_LIBRARIES} ${EXTERNAL_PROJECT} ${LOADER} ${THREAD})
target_include_directories(${PROJECT_NAME} PUBLIC ${EXTERNAL_INCLUDE} ${CURL_INCLUDE})
